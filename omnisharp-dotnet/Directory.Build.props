<Project>

  <PropertyGroup Label="Package locking">
    <RestorePackagesWithLockFile>true</RestorePackagesWithLockFile>
  </PropertyGroup>

  <!-- ****************************************************-->
  <!-- SonarLint connected mode settings i.e. ruleset and additional files. -->
  <!-- ****************************************************-->
  <PropertyGroup>
    <CodeAnalysisRuleSet>$(MSBuildThisFileDirectory).sonarlint\sonarlint-omnisharp-dotnetcsharp.ruleset</CodeAnalysisRuleSet>
  </PropertyGroup>
  
  <ItemGroup Label="Common items">
    <AdditionalFiles Include="$(MSBuildThisFileDirectory).sonarlint\sonarlint-omnisharp-dotnet\CSharp\SonarLint.xml">
      <Link>Properties\SonarLint.xml</Link>
    </AdditionalFiles>
  </ItemGroup>
  
  <!-- ****************************************************-->
  <!-- OmniSharp assembly references                       -->
  <!-- ****************************************************-->
  <PropertyGroup>
    <!-- TODO: this version needs to be kept in sync with
      1) the version in the POM for the ITs
      2) the version in the POM of the SonarLint.IntelliJ repo -->
    <OmniSharpVersion>v1.37.9</OmniSharpVersion>

    <OmniSharpLocalDownloadDir>$(MSBuildThisFileDirectory).omnisharp\$(OmniSharpVersion)</OmniSharpLocalDownloadDir>
    <OmniSharpUnzippedDir>$(OmniSharpLocalDownloadDir)\unzipped</OmniSharpUnzippedDir>
  </PropertyGroup>
  <Import Project="build\DownloadOmniSharp.targets"/>

  <ItemGroup Label="OmniSharp assemblies">
    <Reference Include="$(OmniSharpUnzippedDir)\omnisharp\OmniSharp.Abstractions.dll" Private="$(CopyOmniSharpToOutput)" />
    <Reference Include="$(OmniSharpUnzippedDir)\omnisharp\OmniSharp.Shared.dll" Private="$(CopyOmniSharpToOutput)" />
    <Reference Include="$(OmniSharpUnzippedDir)\omnisharp\OmniSharp.Roslyn.dll" Private="$(CopyOmniSharpToOutput)" />
    <Reference Include="$(OmniSharpUnzippedDir)\omnisharp\OmniSharp.Roslyn.CSharp.dll" Private="$(CopyOmniSharpToOutput)" />
  </ItemGroup>

</Project>