<Project>

  <PropertyGroup Label="Package locking">
    <RestorePackagesWithLockFile>true</RestorePackagesWithLockFile>

    <!-- Set the compilation constant if strong-naming -->
    <DefineConstants Condition=" '$(SignAssembly)' == true ">$(DefineConstants);SignAssembly</DefineConstants>
  </PropertyGroup>
  
  <!-- ****************************************************-->
  <!-- OmniSharp assembly references                       -->
  <!-- ****************************************************-->
  <PropertyGroup>
    <!-- TODO: this version needs to be kept in sync with
      1) the version in the POM for the ITs
      2) the version in the POM of the SonarLint.IntelliJ repo -->
    <OmniSharpVersion>v1.37.9</OmniSharpVersion>

    <OmniSharpLocalDownloadDir>$(MSBuildThisFileDirectory).omnisharp\$(OmniSharpVersion)</OmniSharpLocalDownloadDir>
    <OmniSharpUnzippedDir>$(OmniSharpLocalDownloadDir)\unzipped</OmniSharpUnzippedDir>
  </PropertyGroup>
  <Import Project="build\DownloadOmniSharp.targets"/>

  <ItemGroup Label="OmniSharp assemblies">
    <Reference Include="$(OmniSharpUnzippedDir)\omnisharp\OmniSharp.Abstractions.dll" Private="$(CopyOmniSharpToOutput)" />
    <Reference Include="$(OmniSharpUnzippedDir)\omnisharp\OmniSharp.Shared.dll" Private="$(CopyOmniSharpToOutput)" />
    <Reference Include="$(OmniSharpUnzippedDir)\omnisharp\OmniSharp.Roslyn.dll" Private="$(CopyOmniSharpToOutput)" />
    <Reference Include="$(OmniSharpUnzippedDir)\omnisharp\OmniSharp.Roslyn.CSharp.dll" Private="$(CopyOmniSharpToOutput)" />
  </ItemGroup>

</Project>